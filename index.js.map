{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '50197022-5c303e37ac1e7741936867a9a';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  key: API_KEY,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nexport async function getImagesByQuery(query) {\n  const response = await axios.get('', { params: { q: query } });\n  return response.data.hits;\n}\n\n// export async function getImagesByQuery(query) {\n//   const BASE_URL = 'https://pixabay.com/api/';\n//   const API_KEY = '50197022-5c303e37ac1e7741936867a9a';\n\n//   const params = new URLSearchParams({\n//     key: API_KEY,\n//     q: query,\n//     image_type: 'photo',\n//     orientation: 'horizontal',\n//     safesearch: true,\n//   });\n\n//   const response = await fetch(`${BASE_URL}?${params}`);\n\n//   if (!response.ok) {\n//     throw new Error(response.statusText);\n//   }\n\n//   const data = await response.json();\n//   return data.hits;\n// }\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 200,\n});\n\nexport function createGallery(images, galleryElem) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        type,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"gallery-item js-gallery-item\">\n  <a class=\"gallery-link js-gallery-link\" href=\"${largeImageURL}\">\n    <div class=\"image-wrapper\">\n      <img\n        class=\"gallery-image js-gallery-image\"\n        src=\"${webformatURL}\"\n        data-source=\"${type}\"\n        alt=\"${tags}\"\n      />\n    </div>\n  \n  <div>\n    <ul class=\"wrapper-box\">\n      <li class=\"list-item\">\n        <p class=\"value-title\">Likes</p>\n        <p class=\"label\" data-likes>${likes}</p>\n      </li>\n      <li class=\"list-item\">\n        <p class=\"value-title\">Views</p>\n        <p class=\"label\" data-views>${views}</p>\n      </li>\n      <li class=\"list-item\">\n        <p class=\"value-title\">Comments</p>\n        <p class=\"label\" data-comments>${comments}</p>\n      </li>\n      <li class=\"list-item\">\n        <p class=\"value-title\">Downloads</p>\n        <p class=\"label\" data-downloads>${downloads}</p>\n      </li>\n    </ul>\n  </div>\n  </a>\n</li>`\n    )\n    .join('');\n  galleryElem.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n\nexport function clearGallery(galleryElem) {\n  galleryElem.innerHTML = '';\n}\n\nexport function showLoader(loaderElem) {\n  loaderElem.classList.remove('is-hidden');\n}\n\nexport function hideLoader(loaderElem) {\n  loaderElem.classList.add('is-hidden');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\n  createGallery,\n  showLoader,\n  hideLoader,\n  clearGallery,\n} from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('[name=\"search-text\"]');\nconst galleryElem = document.querySelector('.gallery');\nconst loaderElem = document.querySelector('.loader');\n\nform.addEventListener('submit', onSubmitForm);\n\nfunction onSubmitForm(event) {\n  event.preventDefault();\n  const request = input.value.trim();\n  clearGallery(galleryElem);\n  showLoader(loaderElem);\n  if (!request) {\n    hideLoader(loaderElem);\n    return iziToast.error({\n      title: 'Caution',\n      message: 'Please enter a search query.',\n      position: 'topRight',\n      timeout: 3000,\n    });\n  }\n\n  getImagesByQuery(request)\n    .then(images => {\n      createGallery(images, galleryElem);\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Caution',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n        timeout: 3000,\n      });\n    })\n    .finally(() => {\n      hideLoader(loaderElem);\n      form.reset();\n    });\n}\n"],"names":["BASE_URL","API_KEY","axios","getImagesByQuery","query","lightbox","SimpleLightbox","createGallery","images","galleryElem","markup","webformatURL","largeImageURL","type","tags","likes","views","comments","downloads","clearGallery","showLoader","loaderElem","hideLoader","form","input","onSubmitForm","event","request","iziToast","error"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAEhBC,EAAM,SAAS,QAAUF,EACzBE,EAAM,SAAS,OAAS,CACtB,IAAKD,EACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEO,eAAeE,EAAiBC,EAAO,CAE5C,OADiB,MAAMF,EAAM,IAAI,GAAI,CAAE,OAAQ,CAAE,EAAGE,CAAO,CAAA,CAAE,GAC7C,KAAK,IACvB,CCbA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQC,EAAa,CACjD,MAAMC,EAASF,EACZ,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,kDAC0CN,CAAa;AAAA;AAAA;AAAA;AAAA,eAIhDD,CAAY;AAAA,uBACJE,CAAI;AAAA,eACZC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAQmBC,CAAK;AAAA;AAAA;AAAA;AAAA,sCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAIFC,CAAQ;AAAA;AAAA;AAAA;AAAA,0CAIPC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,MAM9C,EACA,KAAK,EAAE,EACVT,EAAY,mBAAmB,YAAaC,CAAM,EAClDL,EAAS,QAAO,CAClB,CAEO,SAASc,EAAaV,EAAa,CACxCA,EAAY,UAAY,EAC1B,CAEO,SAASW,EAAWC,EAAY,CACrCA,EAAW,UAAU,OAAO,WAAW,CACzC,CAEO,SAASC,EAAWD,EAAY,CACrCA,EAAW,UAAU,IAAI,WAAW,CACtC,CC3DA,MAAME,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,sBAAsB,EACrDf,EAAc,SAAS,cAAc,UAAU,EAC/CY,EAAa,SAAS,cAAc,SAAS,EAEnDE,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAUH,EAAM,MAAM,KAAI,EAGhC,GAFAL,EAAaV,CAAW,EACxBW,EAAWC,CAAU,EACjB,CAACM,EACH,OAAAL,EAAWD,CAAU,EACdO,EAAS,MAAM,CACpB,MAAO,UACP,QAAS,+BACT,SAAU,WACV,QAAS,GACf,CAAK,EAGHzB,EAAiBwB,CAAO,EACrB,KAAKnB,GAAU,CACdD,EAAcC,EAAQC,CAAW,CACvC,CAAK,EACA,MAAMoB,GAAS,CACdD,EAAS,MAAM,CACb,MAAO,UACP,QACE,2EACF,SAAU,WACV,QAAS,GACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbN,EAAWD,CAAU,EACrBE,EAAK,MAAK,CAChB,CAAK,CACL"}